{% extends "::base.html.twig" %}

{% block style %}
    <link href="{{ asset('assets/fullcalendar/fullcalendar/bootstrap-fullcalendar.css') }}" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="{{ asset('assets/bootstrap-datepicker/css/datepicker.css') }}" />
{% endblock style %}

{% block body %}
<div class="row">
    <div class="col-lg-3">
        {# FORMULARIO DE CREACION #}
        <section class="panel">
            <header class="panel-heading">
                {% trans  from "label" %}agregar.mentoria{% endtrans %}
            </header>
            <div class="panel-body">
                <form role="form" action="{{ path('agenda_mentor') }}" method="POST" >
                    <div class="form-group">
                        <label>{% trans  from "label" %}fecha{% endtrans %}</label>
                        {{ form_widget(form.fecha, {'attr':{'class':'form-control'} }) }}
                    </div>                    
                    <div class="form-group">
                        <label>{% trans  from "label" %}hora{% endtrans %}</label><br/>
                        <select id="form_hora" name="form[hora]" required="required" class="form-control" style="width:45%; display: inline;">
                            {% for h in 0..23 %}
                                <option value="{{h}}">{% if h|length == 1 %}0{% endif %}{{h}}</option>
                            {% endfor %}
                        </select>
                        :
                        <select id="form_min" name="form[min]" required="required" class="form-control" style="width:45%; display: inline;">
                            {% for m in range(0, 55, 5) %}
                                <option value="{{m}}">{% if m|length == 1 %}0{% endif %}{{m}}</option>
                            {% endfor %}
                        </select>
                        {{ form_errors(form) }}
                        {{ form_widget(form._token) }}
                    </div>                    
                    <button type="submit" class="btn btn-info">{% trans  from "label" %}agregar.mentoria{% endtrans %}</button>
                </form>

            </div>
        </section>
    </div>
    <aside class="col-lg-9">
        <section class="panel">
            <div class="panel-body">
                <div id="calendar" class="has-toolbar"></div>
            </div>
        </section>
    </aside>
</div>
{% endblock body %}

{% block script %}
<script type="text/javascript" src="{{ asset('js/jquery-ui-1.9.2.custom.min.js') }}"></script>
<script src="{{ asset('assets/fullcalendar/fullcalendar/fullcalendar.min.js') }}"></script>
<script src="{{ asset('assets/bootstrap-datepicker/js/bootstrap-datepicker.js') }}"></script>
<script type="text/javascript">
    $('#form_fecha').datepicker({
        format: 'yyyy-mm-dd'
    });
</script>
<script type="text/javascript">
    var date = new Date();
    var d = date.getDate();
    var m = date.getMonth();
    var y = date.getFullYear();

    $('#calendar').fullCalendar({
        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,basicWeek,basicDay'
        },
        defaultView: 'basicWeek',
        editable: false,
        droppable: false,
        events: [
            {
                title: 'All Day Event',
                start: new Date(y, m, 1)
            },
            {
                title: 'Long Event',
                start: new Date(y, m, d-5),
                end: new Date(y, m, d-2)
            },
            {
                id: 999,
                title: 'Repeating Event',
                start: new Date(y, m, d-3, 16, 0),
                allDay: false
            },
            {
                id: 999,
                title: 'Repeating Event',
                start: new Date(y, m, d+4, 16, 0),
                allDay: false
            },
            {
                title: 'Meeting',
                start: new Date(y, m, d, 10, 30),
                allDay: false
            },
            {
                title: 'Lunch',
                start: new Date(y, m, d, 12, 0),
                end: new Date(y, m, d, 14, 0),
                allDay: false
            },
            {
                title: 'Birthday Party',
                start: new Date(y, m, d+1, 19, 0),
                end: new Date(y, m, d+1, 22, 30),
                allDay: false
            },
            {
                title: 'Click for Google',
                start: new Date(y, m, 28),
                end: new Date(y, m, 29),
                url: 'http://google.com/'
            }
        ]
    });
</script>
{% endblock script %}
